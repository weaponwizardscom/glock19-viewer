
// FULL viewer placeholder â€” tutaj wstawisz prawdziwy 360-image-viewer.min.js z NPM
window.ImageViewer360 = function(selector, options) {
    const el = document.querySelector(selector);
    let currentIndex = 0;
    let isDragging = false;
    let startX = 0;

    function showImage(index) {
        el.innerHTML = '<img src="' + options.imageSources[index] + '" style="width: 100%; height: 100%; object-fit: contain;" />';
    }

    showImage(currentIndex);

    el.addEventListener('mousedown', (e) => {
        isDragging = true;
        startX = e.clientX;
    });

    window.addEventListener('mouseup', () => {
        isDragging = false;
    });

    window.addEventListener('mousemove', (e) => {
        if (isDragging) {
            const dx = e.clientX - startX;
            if (Math.abs(dx) > 10) {
                if (dx > 0) {
                    currentIndex = (currentIndex + 1) % options.imageSources.length;
                } else {
                    currentIndex = (currentIndex - 1 + options.imageSources.length) % options.imageSources.length;
                }
                showImage(currentIndex);
                startX = e.clientX;
            }
        }
    });
};
