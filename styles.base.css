:root {
  --page:   #000;
  --box:    #000;
  --txt:    #fff;
  --border: #dee2e6;
  --pri:    #007bff;
}
* { box-sizing: border-box; margin:0; padding:0; }
body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  background: var(--page);
  display: flex; justify-content: center;
  padding: 20px;
  color: var(--txt);
}

.btn { width:100%; padding:12px; font-size:16px; border:none; color:#fff; border-radius:6px; cursor:pointer; }
.btn.gray{background:#6c757d;} .btn.blue{background:var(--pri);} .btn.red{background:#dc3545;}

.gun-view {
  position: relative; aspect-ratio: 4/3; width: 100%; max-width: 800px;
  border-radius: 6px; background: #111 center/cover no-repeat;
}
.color-overlay { pointer-events:none; mix-blend-mode:hard-light; opacity:.45; }

.summary{border:1px solid var(--border); border-radius:6px; background:#111; margin-top:16px; padding:12px;}
#summary-list{column-count:3; column-gap:20px;}
#summary-list div{break-inside:avoid; margin-bottom:4px; font-size:15px;}
#price{font-family:"Eurostile",sans-serif; font-weight:900; font-size:22px; margin-top:12px; text-align:right;}

.controls{display:flex; flex-direction:column; min-width:300px;}
.section{margin-bottom:20px;}
.sec-hdr{display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid var(--border); padding-bottom:8px; margin-bottom:12px;}
.sec-hdr h3{font-size:18px;}
.lang img{width:24px; margin-left:8px; cursor:pointer; border:2px solid transparent; border-radius:3px;}
.lang img.active{border-color:var(--pri);}
.parts{display:grid; grid-template-columns:1fr 1fr; gap:8px;}
.parts button{padding:10px 6px; font-size:12px; font-weight:600; text-align:center; background:#f5f6f7; border:1px solid var(--border); border-radius:6px; cursor:pointer;}
.parts button.selected{background:var(--pri); color:#fff;}
.parts button.disabled{background:#444; color:#888; cursor:not-allowed;}
.mix{background:linear-gradient(45deg,#ffd700,#ff7a00,#ff007a,#00aaff,#00ff6a); color:#000; font-weight:700;}

.palette-wrap{max-height:400px; overflow-y:auto; padding-right:8px;}
.palette{display:grid; grid-template-columns:repeat(3,1fr); gap:25px 10px;}
.sw{display:flex; flex-direction:column; align-items:center; cursor:pointer;}
.dot{width:45px; height:45px; border-radius:50%; border:2px solid var(--border); transition:.2s;}
.sw:hover .dot{transform:scale(1.1); box-shadow:0 0 8px var(--pri);}
.lbl{margin-top:6px; font-size:11px; font-weight:600; text-align:center; line-height:1.25;}

.modal{position:fixed; inset:0; background:#000a; display:flex; align-items:center; justify-content:center; z-index:1000;}
.modal.hidden{display:none;}
.box{background:#1b1b1b; padding:24px; border-radius:8px; width:90%; max-width:420px;}
.box h2{font-size:20px; margin-bottom:16px;}
.box input{width:100%; padding:10px; margin-bottom:10px; border-radius:6px; border:1px solid #555; background:#000; color:#fff; font-size:14px;}
.note{font-size:12px; color:#ff4444; margin-top:6px; text-align:center;}

.sw[role="button"] { outline-offset: 3px; }
